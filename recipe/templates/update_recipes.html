{% extends 'base.html' %}
{% block start %}
<body>
    <div class="container mt-5">
        <form class="col-8 mx-auto card p-4 shadow-lg" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <h2>Update Recipe</h2>
            <hr>

            <div class="mb-3">
                <label class="form-label">Title</label>
                <input name="title" value="{{ recipe.title }}" required type="text" class="form-control">
            </div>

            <div class="mb-3">
                <label class="form-label">Description</label>
                <textarea name="description" required class="form-control">{{ recipe.description }}</textarea>
            </div>

            <div class="mb-3">
                <label class="form-label">Ingredients</label>
                <textarea name="ingredients" required class="form-control">{{ recipe.ingredients }}</textarea>
            </div>

            <div class="mb-3">
                <label class="form-label">Instructions</label>
                <textarea name="instructions" required class="form-control">{{ recipe.instructions }}</textarea>
            </div>

            <div class="mb-3">
                <label class="form-label">Cooking Time (minutes)</label>
                <input name="cooking_time" type="number" value="{{ recipe.cooking_time }}" required class="form-control">
            </div>

            <div class="mb-3">
                <label class="form-label">Servings</label>
                <input name="servings" type="text" value="{{ recipe.servings }}" required class="form-control">
            </div>

            <div class="mb-3">
                <label class="form-label">Story</label>
                <textarea name="story" class="form-control">{{ recipe.story }}</textarea>
            </div>

            <div class="mb-3">
                <label class="form-label">Recipe Image</label>
                {% if recipe.image %}
                    <img src="/media/{{ recipe.image }}" style="height: 150px; display:block;" class="mb-2">
                {% endif %}
                <input name="image" type="file" class="form-control">
            </div>

            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" name="is_published" {% if recipe.is_published %}checked{% endif %}>
                <label class="form-check-label">Publish Recipe</label>
            </div>

            <button type="submit" class="btn btn-success">Update Recipe</button>
        </form>
        <hr>
    </div>
</body>
{% endblock %}
