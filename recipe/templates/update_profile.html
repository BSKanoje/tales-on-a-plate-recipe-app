{% extends 'base.html' %}
{% load static %}

{% block start %}
<div class="container mt-5">
  <h2 class="mb-4">Update Profile</h2>
  <div class="card shadow p-4">
    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="mb-3">
        <label for="bio" class="form-label">Bio</label>
        <textarea class="form-control" id="bio" name="bio" rows="3">{{ user.profile.bio }}</textarea>
      </div>
      <div class="mb-3">
        <label for="location" class="form-label">Location</label>
        <input type="text" class="form-control" id="location" name="location" value="{{ user.profile.location }}">
      </div>
      <div class="mb-3">
        <label for="profile_picture" class="form-label">Profile Picture</label>
        {% if user.profile.profile_picture %}
          <div class="mb-2">
            <img src="{{ user.profile.profile_picture.url }}" alt="Current Profile Pic" class="rounded-circle" style="height: 100px;">
          </div>
        {% endif %}
        <input class="form-control" type="file" id="profile_picture" name="profile_picture">
      </div>
      <button type="submit" class="btn btn-success">Save Changes</button>
      <a href="{% url 'profile' %}" class="btn btn-secondary ms-2">Cancel</a>
    </form>
  </div>
</div>
{% endblock %}
